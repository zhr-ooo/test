<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}

		#container {
			position: relative;
			width: 100px;
			height: 100px;
			left: 300px;
		}

		#box1 {
			width: 100px;
			height: 100px;
			position: absolute;
		}

		#box2 {
			width: 100px;
			height: 100px;
			position: absolute;
		}

		img {
			width: 100px;
			height: 100px;
		}
	</style>
</head>

<body>
	<div id="container">
		<div id="box1">
			<img src="./1.jpeg" alt="">
		</div>
		<div id="box2">
			<img src="./2.png" alt="">
		</div>
	</div>

	<input id="btn-Preview-Image" type="button" value="预 览" />
	<a id="btn-Convert-Html2Image" href="#">下载</a>
	<br />
	<h3>预 览 :</h3>
	<div id="previewImage">
	</div>

</body>
<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="./js/html2canvas.js"></script>
<script>
	$(document).ready(function () {
		//这是要转成图片的div id
		var element = $("#container");
		html2canvas(element, {
			onrendered: function (canvas) {
				$("#container").html("")
				$("#container").append(canvas);
				//获取网页中的canvas对象  
				var mycans = $('canvas')[0];
				console.log(mycans)
				//调用convertCanvasToImage函数将canvas转化为img形式   
				var img = convertCanvasToImage(mycans);
				//将img插入容器 
				$("#container").html(img);
			}
		});

		//从 canvas 提取图片 image  
		function convertCanvasToImage(canvas) {
			//新Image对象，可以理解为DOM  
			var image = new Image();
			// canvas.toDataURL 返回的是一串Base64编码的URL
			// 指定格式 PNG  
			image.src = canvas.toDataURL("image/png",1);
			return image;
		}
	});
</script>

</html>